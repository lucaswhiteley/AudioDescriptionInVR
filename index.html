<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>TEST 5 First three.js app</title>
    <style>
        body {
            margin: 0;
        }
    </style>
</head>

<body>
    <script src="js/three.js"></script>
    <script>
        var renderer;
        var scene;
        var camera;
        var testCube;

        itit();
        populate();
        animate();

        //defines the animation of the scene and calls the renderer.
        function animate()
        {
            requestAnimationFrame ( animate );
	        //mesh.rotation.x += 0.01;
	        //mesh.rotation.y += 0.01;

            //Renders the scene
            renderer.render(scene, camera);
        }

        //Initialises the scene and other essential things before the program runs
        function itit()
        {
            //ititialises the renderer and sets it to the size of the window
            renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement)

            //Initialises the scene
            scene = new THREE.Scene();

            //Initialises the camera
            camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 10000);
	        camera.position.set(0, 0, 1000);
        	scene.add(camera);


            var gloorGeometry = new THREE.PlaneGeometry( window.innerWidth , window.innerHeight, 1, 1 );
	        var floorMaterial = new THREE.MeshBasicMaterial( { color: 0x00ffff } );
	        var floor = new THREE.Mesh( gloorGeometry, floorMaterial );
            //This line renders both sides of the plane
        	floor.material.side = THREE.DoubleSide;
	        //floor.rotation.x = 90;
	        scene.add(floor); 
        }

        //populates the scene with all of the objects
        function populate()
        {

            //Create a select case statement for material, and geometry


            //Create a loop to create a random number of cubes, spheres and cones

            var numToGen = Math.floor(Math.random()*5) + 2;
            //generates between 2 and 5 cubes
            for (let i = 0; i < numToGen; i ++)
            {

                ///Creates a test cube
                geometry = new THREE.BoxGeometry(200,200,200)
            

                //choosing the colour of the object
                let x = Math.floor(Math.random()*3) + 1;
                switch(x)
                {
                    case 1:
                        //red
                        material = new THREE.MeshBasicMaterial({color: 0xff1100});
                        break;
                    case 2:
                        //Spring Green
                        material = new THREE.MeshBasicMaterial({color: 0x00ff59});
                        break;
                    case 3:
                        //Purple Pizzazz
                        material = new THREE.MeshBasicMaterial({color: 0xff00e1});
                        break;
                }
                //material = new THREE.MeshBasicMaterial({color: newColour});



                mesh = new THREE.Mesh(geometry, material)
                //since 0 is the middle of the plane, the position could be negative too
                mesh.position.x = Math.floor(Math.random()*800) -400;
                mesh.position.y = Math.floor(Math.random()*800) -400;
                scene.add(mesh);
            } 
            
            

            //Creates a test cube
            //const cubeGeometry = new THREE.BoxGeometry(200,200,200)
            //const cubeMaterial = new THREE.MeshBasicMaterial({color: 0xff00ff});

            //Adding the Cube to the scene
            //testCube = new THREE.Mesh(cubeGeometry, cubeMaterial)
            //scene.add(testCube)

        }
    </script>
</body>

</html>